{% extends model('component') %}

{% define config = {
    name: 'header',
    tag: 'header'
} %}

{% define data = {
    showSearchForm: true,
    showNavigation: true
} %}

{% block body %}
    <div class="container">
        <div class="{{config.name}}__row {{config.name}}__navigation-top">
            {% include organism('navigation-top') with {
                class: 'is-hidden-sm-md text-right'
            } only %}
        </div>

        <div class="{{config.name}}__row {{config.name}}__row--middle grid grid--middle">
            {% include molecule('logo') with {
                class: 'col col--sm-8 col--lg-4'
            } only %}

            <div class="col col--sm-4 col--lg-8">
                {% if data.showSearchForm %}
                    {% include molecule('search-form') with {
                        class: config.name ~ '__search-form is-hidden-sm-md',
                        attributes: {
                            'data-search-id': 'desktop'
                        }
                    } only %}
                {% endif %}

                <div class="is-hidden-lg-xl text-right">
                    {% block mobile %}{% endblock %}
                </div>
            </div>
        </div>

        {% if data.showNavigation %}
            {% block mainNavigationWrapper %}
                <div class="{{ config.name }}__row {{ config.name }}__navigation-main is-hidden-sm-md">
                    <div class="{{ config.jsName }}__navigation-main">
                        {% block mainNavigation %}
                            {% widget 'NavigationWidget' args ['MAIN_NAVIGATION', 'navigation-main'] %}
                            {% nowidget %}
                                {# @deprecated Kept for BC reasons, will be removed in next major. #}
                                {{ widgetGlobal('NavigationWidgetPlugin', 'MAIN_NAVIGATION', 'navigation-main') }}
                            {% endwidget %}
                        {% endblock %}
                    </div>
                </div>

                {% block mainNavigationBlockDisplacer %}
                    {% include molecule('navigation-relocator') with {
                        attributes: {
                            'block-to-move-class-name': config.jsName ~ '__navigation-main',
                            'block-to-place-class-name': 'js-side-drawer__navigation-wrapper',
                        },
                    } only %}
                {% endblock %}
            {% endblock %}
        {% endif %}

        {% if data.showSearchForm %}
            {% include molecule('search-form') with {
                class: config.name ~ '__row ' ~ config.name ~ '__search-form is-hidden-lg-xl',
                attributes: {
                    'data-search-id': 'mobile'
                }
            } only %}
        {% endif %}
    </div>
{% endblock %}
