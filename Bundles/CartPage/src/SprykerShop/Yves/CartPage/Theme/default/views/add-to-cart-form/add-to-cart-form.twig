{% extends template('widget') %}

{% define data = {
    form: _widget.addToCartForm,
    config: _widget.config,
    product: _widget.product,
    isDisabled: _widget.isAddToCartDisabled,
    options: _widget.quantityOptions,
} %}

{% block body %}
    {% set formClass = data.config.jsName ~ '__form-add-to-cart' %}

    {% block form %}
        {{ form_start(data.form, {
            'action': path('cart/add', {'sku': data.product.sku}),
            'name': 'addToCartForm_' ~ data.product.sku,
            attr: { class: formClass },
        }) }}
            {% block embeddedData %}{% endblock %}
        {{ form_end(data.form) }}
    {% endblock %}
{% endblock %}
