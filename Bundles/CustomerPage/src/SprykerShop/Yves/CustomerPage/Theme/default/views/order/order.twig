{% extends template('page-layout-customer', 'CustomerPage') %}

{% define data = {
    orders: _view.orderList,
    isOrderSearchEnabled: _view.isOrderSearchEnabled,
    isOrderSearchOrderItemsVisible: _view.isOrderSearchOrderItemsVisible,
    orderSearchForm: _view.orderSearchForm | default(null),
    filterFields: _view.filterFields | default(null),

    pagination: {
        parameters: {},
        currentPage: _view.pagination.page,
        paginationPath: 'customer/order',
        maxPage: _view.pagination.lastPage,
        showAlwaysFirstAndLast: true
    },

    title: 'customer.account.order_history' | trans,
    activePage: 'order'
} %}

{% block customerContent %}
    <div class="box">
        <h5>{{ 'customer.order.all_orders' | trans }}</h5>
        <hr>
        {% include molecule('order-table', 'CustomerPage') with {
            data: {
                orders: data.orders,
                filterFields: data.filterFields,
                isOrderSearchEnabled: data.isOrderSearchEnabled,
                isOrderSearchOrderItemsVisible: data.isOrderSearchOrderItemsVisible,
                orderSearchForm: data.orderSearchForm
            }
        } only %}
        <hr>
        {% include molecule('pagination') with {
            data: data.pagination
        } only %}
    </div>
{% endblock %}
